(this.webpackJsonpclear=this.webpackJsonpclear||[]).push([[2],{101:function(e,t,n){e.exports=n(131)},131:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(8),o=n.n(c),u=n(23),i=n(91),l=n(28),s=n(13),b=n(47),h=n(48),d=n(54),f=n(50),m=n(49),g=Object(r.createContext)(),p=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={type:"light",toggleTheme:e.toggleTheme.bind(Object(d.a)(e))},e}return Object(h.a)(n,[{key:"toggleTheme",value:function(){this.setState({type:"dark"===this.state.type?"light":"dark"})}},{key:"render",value:function(){return a.a.createElement(g.Provider,{value:this.state},this.props.children)}}]),n}(r.Component);p.Consumer=g.Consumer;var O,j,E,v=n(176),C=n(175),k=n(133),y=n(165),S=n(94),R=n(53),q=n(174),A=n(179),U=function(e){return function(t){return a.a.createElement(p.Consumer,null,(function(n){return a.a.createElement(e,Object.assign({},t,{myTheme:n}))}))}},x=Object(y.a)((function(e){return{root:{position:"absolute",top:30,right:20,zIndex:1}}})),w=U((function(e){var t=e.myTheme,n=x(),r=t.type,c=t.toggleTheme;return a.a.createElement("div",{className:n.root},a.a.createElement(A.a,{checked:"light"===r,onChange:c,color:"primary",name:"checkTheme",inputProps:{"aria-label":"primary checkbox"}}))})),L=n(172),N=n(173),z=n(169),M=Object(y.a)((function(e){return{link:{marginRight:e.spacing(2),textDecoration:"none","&:last-of-type":{marginRight:0}}}})),T=function(){var e=M();return a.a.createElement("div",null,a.a.createElement(l.b,{to:"/register",exact:!0,className:e.link},a.a.createElement(z.a,{variant:"contained",color:"secondary"},"Sign Up")),a.a.createElement(l.b,{to:"/login",exact:!0,className:e.link},a.a.createElement(z.a,{variant:"contained"},"Log In")))},I=n(24),P=Object(y.a)((function(e){return{link:{display:"inline-block",textDecoration:"none",color:e.palette.common.white},activeLink:{color:e.palette.secondary.light}}})),F=Object(u.b)((function(e){return{isAuthenticated:I.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated,n=P();return a.a.createElement("nav",null,a.a.createElement(l.b,{to:"/",exact:!0,className:n.link,activeClassName:n.activeLink},a.a.createElement(z.a,{color:"inherit"},"Home")),t&&a.a.createElement(l.b,{to:"/contacts",exact:!0,className:n.link,activeClassName:n.activeLink},a.a.createElement(z.a,{color:"inherit"},"Contacts")))})),H=n(92),B=n.n(H),D=n(171),J=n(144),W=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isMenuOpen:!1,anchorEl:null},e.handleManuOpen=function(t){return e.setState({isMenuOpen:!0,anchorEl:t.currentTarget})},e.handleManuClose=function(){return e.setState({isMenuOpen:!1,anchorEl:null})},e.handleLogout=function(){e.handleManuClose(),e.props.onLogout()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isMenuOpen,n=e.anchorEl,r=this.props,c=r.name,o=r.email;return a.a.createElement(a.a.Fragment,null,a.a.createElement(z.a,{"aria-label":"account of current user","aria-haspopup":"true",onClick:this.handleManuOpen,color:"inherit",startIcon:a.a.createElement(B.a,null)},c),a.a.createElement(J.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:this.handleManuClose},a.a.createElement(D.a,null,o),a.a.createElement(D.a,{onClick:this.handleLogout},"Logout")))}}]),n}(r.Component),G=Object(u.b)((function(e){return{name:I.b.getUserName(e),email:I.b.getUserEmail(e)}}),{onLogout:I.a.logOut})(W),K=Object(y.a)((function(e){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),Q=Object(u.b)((function(e){return{isAuthenticated:I.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated,n=K();return a.a.createElement(L.a,{position:"static"},a.a.createElement(N.a,{className:n.root},a.a.createElement(F,null),t?a.a.createElement(G,null):a.a.createElement(T,null)))})),V=Object(y.a)((function(e){return{wrap:{position:"relative",minHeight:"100vh",padding:e.spacing(7,5),overflow:"hidden"}}})),X=Object(S.a)({palette:{type:"dark"}}),Y=U((function(e){var t=e.children,n=e.myTheme,r=V(),c=Object(R.a)();return a.a.createElement(q.a,{theme:"light"===n.type?c:X},a.a.createElement(C.a,null),a.a.createElement(v.a,{maxWidth:"md"},a.a.createElement(Q,null),a.a.createElement(k.a,{className:r.wrap,square:!0},a.a.createElement(w,null),t)))})),Z=[{path:"/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,227))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,220))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,221))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,224))})),private:!0,restricted:!1}],$=n(89),_=n(59),ee=Object(u.b)((function(e){return{isAuthenticated:I.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(_.a)(e,["component","isAuthenticated"]);return a.a.createElement(s.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(s.a,{to:"/login"})}}))})),te=Object(u.b)((function(e){return{isAuthenticated:I.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(_.a)(e,["component","isAuthenticated"]);return a.a.createElement(s.b,Object.assign({},r,{render:function(e){return n&&r.restricted?a.a.createElement(s.a,{to:"/contacts"}):a.a.createElement(t,e)}}))})),ne=(n(88),function(){return a.a.createElement(p,null,a.a.createElement(l.a,null,a.a.createElement(Y,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement($.a,null)},a.a.createElement(s.d,null,Z.map((function(e){return e.private?a.a.createElement(ee,Object.assign({key:e.label},e)):a.a.createElement(te,Object.assign({key:e.label},e))})))))))}),re=n(4),ae=n(31),ce=n(93),oe=n.n(ce),ue=n(7),ie=n(95),le=n(15),se=n(19),be=Object(re.c)([],(O={},Object(ue.a)(O,se.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(ue.a)(O,se.a.addContactSuccess,(function(e,t){return[].concat(Object(ie.a)(e),[t.payload])})),Object(ue.a)(O,se.a.deleteContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),O)),he=Object(re.c)("",Object(ue.a)({},se.a.changeFilter,(function(e,t){return t.payload}))),de=Object(re.c)(!1,(j={},Object(ue.a)(j,se.a.fetchContactsRequest,(function(){return!0})),Object(ue.a)(j,se.a.fetchContactsSuccess,(function(){return!1})),Object(ue.a)(j,se.a.fetchContactsError,(function(){return!1})),Object(ue.a)(j,se.a.addContactRequest,(function(){return!0})),Object(ue.a)(j,se.a.addContactSuccess,(function(){return!1})),Object(ue.a)(j,se.a.addContactError,(function(){return!1})),Object(ue.a)(j,se.a.removeContactRequest,(function(){return!0})),Object(ue.a)(j,se.a.removeContactSuccess,(function(){return!1})),Object(ue.a)(j,se.a.removeContactError,(function(){return!1})),j)),fe=Object(re.c)(!1,(E={},Object(ue.a)(E,se.a.addContactError,(function(){return!0})),Object(ue.a)(E,se.a.hideError,(function(){return!1})),E)),me=Object(le.c)({contacts:be,filter:he,loading:de,error:fe}),ge=n(52),pe={key:"auth",storage:oe.a,whitelist:["token"]},Oe=Object(re.a)({reducer:{phonebook:me,auth:Object(ae.g)(pe,ge.a)},middleware:Object(re.d)({serializableCheck:{ignoredActions:[ae.a,ae.f,ae.b,ae.c,ae.d,ae.e]}})}),je=Object(ae.h)(Oe);o.a.render(a.a.createElement(u.a,{store:Oe},a.a.createElement(i.a,{loading:null,persistor:je},a.a.createElement(ne,null))),document.getElementById("root"))},19:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("phonebook/addRequest"),c=Object(r.b)("phonebook/addSuccess"),o=Object(r.b)("phonebook/addError"),u=Object(r.b)("phonebook/fetchRequest"),i=Object(r.b)("phonebook/fetchSuccess"),l=Object(r.b)("phonebook/fetchError"),s=Object(r.b)("phonebook/deleteRequest"),b=Object(r.b)("phonebook/deleteSuccess"),h=Object(r.b)("phonebook/deleteError"),d=Object(r.b)("phonebook/filter"),f=Object(r.b)("phonebook/error");t.a={addContactRequest:a,addContactSuccess:c,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:i,fetchContactsError:l,deleteContactRequest:s,deleteContactSuccess:b,deleteContactError:h,changeFilter:d,hideError:f}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i}));var r=n(30),a=n.n(r),c=n(45),o=n(9);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u={register:function(e){return function(t){t(o.a.registerRequest()),a.a.post("/users/signup",e).then((function(e){c.a.set(e.data.token),t(o.a.registerSuccess(e.data))})).catch((function(e){return t(o.a.registerError(e))}))}},logOut:function(){return function(e){e(o.a.logoutRequest()),a.a.post("/users/logout").then((function(){c.a.unset(),e(o.a.logoutSuccess())})).catch((function(t){return e(o.a.logoutError(t))}))}},logIn:function(e){return function(t){t(o.a.loginRequest()),a.a.post("/users/login",e).then((function(e){c.a.set(e.data.token),t(o.a.loginSuccess(e.data))})).catch((function(e){return t(o.a.loginError(e))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(c.a.set(n),e(o.a.getCurrentUserRequest()),a.a.get("/users/current").then((function(t){var n=t.data;return e(o.a.getCurrentUserSuccess(n))})).catch((function(e){return o.a.getCurrentUserError(e)})))}}},i={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name},getUserEmail:function(e){return e.auth.user.email},getError:function(e){return e.auth.error}};n(52)},45:function(e,t,n){"use strict";var r=n(30),a=n.n(r);t.a={set:function(e){a.a.defaults.headers.common.Authorization="Bearer ".concat(e)},unset:function(){a.a.defaults.headers.common.Authorization=""}}},52:function(e,t,n){"use strict";var r,a,c,o=n(7),u=n(15),i=n(4),l=n(9),s={name:null,email:null},b=Object(i.c)(s,(r={},Object(o.a)(r,l.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,l.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,l.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(o.a)(r,l.a.logoutSuccess,(function(){return s})),r)),h=Object(i.c)(null,(a={},Object(o.a)(a,l.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,l.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,l.a.logoutSuccess,(function(){return null})),a)),d=Object(i.c)(null,(c={},Object(o.a)(c,l.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,l.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,l.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,l.a.getCurrentUserError,(function(e,t){return t.payload})),Object(o.a)(c,l.a.clearError,(function(){return null})),c));t.a=Object(u.c)({user:b,token:h,error:d})},88:function(e,t,n){},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),c=n(177),o=function(){return a.a.createElement(c.a,null)}},9:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),l=Object(r.b)("auth/loginError"),s=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),h=Object(r.b)("auth/logoutError"),d=Object(r.b)("auth/getCurrentUserRequest"),f=Object(r.b)("auth/getCurrentUserSuccess"),m=Object(r.b)("auth/getCurrentUserError"),g=Object(r.b)("phonebook/error");t.a={registerRequest:a,registerSuccess:c,registerError:o,logoutRequest:s,logoutSuccess:b,logoutError:h,loginRequest:u,loginSuccess:i,loginError:l,getCurrentUserRequest:d,getCurrentUserSuccess:f,getCurrentUserError:m,clearError:g}}},[[101,3,4]]]);
//# sourceMappingURL=main.2b0748d0.chunk.js.map